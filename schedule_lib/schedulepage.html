<!DOCTYPE html>
<html lang="en">
{% include "scaffold/incbootstrap.html" %}

<head>
    <meta charset="UTF-8">
    <title>Conference schedule</title>
</head>

<script language="JavaScript">
{% include "scaffold/enablers.js" %}

function setDay() {
	window.location = "/schedulepage?day="+document.getElementById("daysListId").value
}

</script>

<body>
<div class="container-fluid">
<form method="post">
    <h1>Conference schedule</h1>
    	{% include "scaffold/topmenu.html" %}
    <hr/>
    <a href="scheduleconfigpage?day={{selectedDay}}">Schedule configuration</a>
    <p/>
    <select id="daysListId" name="daysList" onchange="setDay()">
        <option value="None"/>
		{% for d in sched.day_names(): %}
			<option name="{{d}}" value="{{d}}"
				{% if d==selectedDay: %} selected {% endif %}
            >{{d}}</option>
		{% endfor %}
	</select>

    <p/>
    {% if selectedDay: %}
    <table border="1">
        <tr><th>Start time</th>
        <th>End time</th>
        {% for t in sched.tracks(selectedDay): %}
            <th>{{t}}</th>
        {% endfor %}</tr>
        {% for slot in sched.slots(selectedDay): %}
            <tr>
                <td>{{slot.start_time}}</td>
                <td>{{slot.end_time}}</td>
                {% for t in sched.tracks(selectedDay): %}
                    <td><input type="radio" name="slotSelector" value="{{t}}${{slot.start_time}}">Empty</td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>

    {% for t in conf_tracks: %}
        <h3 id="{{t}}">{{conf_tracks[t]}}</h3>
        <table border="1">
            <th></th>
            <th>Speaker
            <th>Details</th>
            <th>Duration
            <th>Title

            {% for s in submissions[t]: %}
            <tr>
                <td><input type="radio" name="talkSelector" value="{{s.key.urlsafe()}}" </td>
                <td><a target=_blank href="/speakerkey?key={{s.talk.parent().urlsafe()}}">{{s.submitter()}}</a></td>
                <td><a target=_blank href="/submit_page?sub={{s.key.urlsafe()}}&reviewer">Details</a></td>
                <td>{{crrt_conference.duration_options()[s.duration]}}</td>
                <td><a target=_blank href="/pubtalk?talk={{s.talk.urlsafe()}}">{{s.title()}}</a></td>
        {% endfor %}
        </table>
    {% endfor %}

    
    <input type="hidden" name="sched_key" value="{{sched.key.urlsafe()}}"/>
</form>
</div>

</body>
</html>